{% set skip_coerce = ['tree.app'] %}

# Default sphinxdocs server configuration.
#
# **** DO NOT EDIT THIS FILE ****
#
# This file is managed by Salt via <{{ source }}>.

{% for section, items in config.items() %}
[{{ section }}]

{% for key, val in items.items() -%}
{% if not key in skip_coerce -%}
{{ key }}: {{ val | json() }}
{% else -%}
{{ key }}: {{ val }}
{% endif -%}
{% endfor -%}

{% endfor %}


{% for doc, conf in docs.items() %}
[/{{ doc }}/en]
tools.staticdir.on: 'True'

{% for version in conf.get('versions_whitelist', []) %}
{% if loop.first %}
[/{{ doc }}/en/latest]
{% else %}
[/{{ doc }}/en/{{ version }}]
{% endif %}
tools.staticdir.dir: {{ conf.get('build_dir', '').format(version=version) | json() }}
{% endfor %}
{% endfor %}
